{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","searchText","onSearchChangeHandler","value","onChange","PersonForm","newName","onNameChangeHandler","newNumber","onNumberChangeHandler","onSubmit","type","onClick","Persons","displayedPersons","removePerson","map","person","key","id","name","number","Notification","message","className","baseURL","axios","get","newPerson","post","personId","delete","put","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchText","errorMsg","setErrorMsg","filter","toLowerCase","includes","useEffect","service","then","response","data","event","target","preventDefault","find","window","confirm","res","p","setTimeout","catch","err","error","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.01640905.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ searchText, onSearchChangeHandler }) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tfilter shown with: <input value={searchText} onChange={onSearchChangeHandler}/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({ newName, onNameChangeHandler, newNumber, onNumberChangeHandler, onSubmit }) => {\r\n\treturn (\r\n\t\t<form>\r\n\t\t\t<div>\r\n\t\t\t\tname: <input value={newName} onChange={onNameChangeHandler}/>\r\n\t\t\t</div>\r\n\t\t\t<div>number: <input value={newNumber} onChange={onNumberChangeHandler} /></div>\r\n\t\t\t<div>\r\n\t\t\t\t<button type=\"submit\" onClick={onSubmit}>add</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Persons = ({ displayedPersons, removePerson }) =>\r\n    displayedPersons&&displayedPersons.map(person => (<div key={person.id}>{ person.name } { person.number } <button onClick={() => removePerson(person.id)}>delete</button> </div>))\r\n\r\n\r\n\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    \r\n    return (\r\n    <div className=\"error\">\r\n        {message}\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Notification\r\n","import axios from 'axios';\r\nconst baseURL = '/api/persons';\r\n\r\nconst getAll = () => axios.get(baseURL);\r\n\r\nconst create = newPerson => axios.post(baseURL, newPerson);\r\n\r\nconst remove = personId => axios.delete(`${baseURL}/${personId}`);\r\n\r\nconst update = (personId, newPerson) => axios.put(`${baseURL}/${personId}`, newPerson);\r\n\r\nexport default { getAll, create, remove, update }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport service from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ searchText, setSearchText ] = useState('');\n  const [ errorMsg, setErrorMsg ] = useState('');\n\n  const onNameChangeHandler = event => {\n    setNewName(event.target.value);\n  }\n  const onNumberChangeHandler = event => {\n    setNewNumber(event.target.value);\n  }\n\n  const onSearchChangeHandler = event => {\n    setSearchText(event.target.value);\n  }\n\n  const onSubmit = event => {\n    event.preventDefault();\n    const person = persons.find(person => person.name === newName);\n    if (person) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        service.update(person.id, { name: newName, number: newNumber })\n          .then( res => {\n            if (res.data == null) {\n              setErrorMsg(`Information of ${newName} has already been removed from the server`);\n            } else {\n              setNewName('');\n              setNewNumber('');\n              setPersons(persons.map(p => p.id !== person.id ? p : res.data));  \n              setErrorMsg(`Updated ${newName}`);\n              setTimeout(() => setErrorMsg(''), 3000);\n            }\n          })\n          .catch(err => {\n              setErrorMsg(err.response.data.error)\n              //setErrorMsg(`Information of ${newName} has already been removed from the server`);\n              setTimeout(() => setErrorMsg(''), 3000);\n            }\n          )\n      }\n    } \n    else {\n      const newPerson = { name: newName, number: newNumber }\n      service.create(newPerson)\n        .then(person => {\n          setPersons(persons.concat(person.data));\n          setNewName('');\n          setNewNumber('');\n          setErrorMsg(`Added ${newName}`);\n          setTimeout(() => setErrorMsg(''), 3000);\n        })\n        .catch(err => {\n          setErrorMsg(err.response.data.error);\n          setTimeout(() => setErrorMsg(''), 3000);\n      })\n    }\n  }\n\n  const removePerson = personId => {\n    if (window.confirm(`Delete?`)) {\n      service.remove(personId)\n        .then(() => setPersons(persons.filter(person => person.id !== personId)))\n    }\n  }\n\n  const displayedPersons = !searchText ? persons : persons.filter(person => person.name.toLowerCase().includes(searchText.toLowerCase()))\n\n  useEffect(() => {\n    service.getAll()\n      .then(response => {\n        setPersons(response.data);\n      })\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      \n      {errorMsg && <Notification message={errorMsg}></Notification>}\n\n\t\t\t<Filter searchText={searchText} onSearchChangeHandler={onSearchChangeHandler} />\n      \n\t\t\t<h2>Add a new</h2>\n\t\t\t\n\t\t\t<PersonForm \n\t\t\t\tnewName = {newName}\n\t\t\t\tonNameChangeHandler = {onNameChangeHandler}\n\t\t\t\tnewNumber = {newNumber}\n\t\t\t\tonNumberChangeHandler = {onNumberChangeHandler}\n\t\t\t\tonSubmit = {onSubmit}\n\t\t\t/>\n\n      <h2>Numbers</h2>\n\t\t\t<Persons displayedPersons={displayedPersons} removePerson={removePerson}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}